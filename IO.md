# IO

### 过程

    分为两个阶段，第一阶段是等待数据到达内核缓冲区，第二阶段是将数据从内核缓冲区复制到用户缓冲区。
    
### 分类
    * BIO 同步阻塞式IO 一个连接一个线程
        服务器端与客户端三次握手简历连接后一个链路建立一个线程进行面向流的通信。这曾是jdk1.4前的唯一选择。
    在任何一端出现网络性能问题时都影响另一端，无法满足高并发高性能的需求
    * NIO 同步非阻塞IO 一个请求一个线程
        以块的方式处理数据。采用多路复用Reactor模式。JDK1.4时引入
    * AIO 异步非阻塞IO 一个有效请求一个线程
        基于unix事件驱动，不需要多路复用器对注册通道进行轮询，采用Proactor设计模式。JDK1.7时引入
        
### netty
    NIO的一个流行框架
    * Reactor通信调度层，由一系列辅助类组成，包括Reactor线程NioEventLoop以及其父类，NioSocketChannel以及父类，ByteBuffer
    及衍生Buffer，Unsafe及内部子类
    * 职责链ChannelPipeLine，它负责调度事件在职责链中的传播，支持动态的编排职责链，职责链可以选择性的拦截自己关心的事件，
    对其它IO操作和事件忽略
    * 业务逻辑编排层
    
### netty优势
    1. 内存零拷贝
        和操作系统零拷贝不同，采用JAVA层面的零拷贝，利用JAVA的零拷贝实现（组合、wrap包装、slice分解、FileChannel拷贝文件）
    2. 采用内存池的，用来对缓存区复用
        事先申请一大块内存进行分配和回收，来避免JVM的GC操作。透过测试，内存池可以有效的平稳GC抖动。
    3. 无锁化的串行设计
    4. 高效的并发编程
    
### 同步与非同步
    针对应用程序和内核的交互而言的
    
### 阻塞与非阻塞
    针对于进程在访问数据的时候